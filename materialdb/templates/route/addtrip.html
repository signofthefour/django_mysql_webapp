{% extends 'base.html' %}
{% block content %}
      <nav class="navbar navbar-expand-lg navbar-transparent  navbar-absolute bg-primary fixed-top">
        <div class="container-fluid">
          <div class="navbar-wrapper">
            <div class="navbar-toggle">
              <button type="button" class="navbar-toggler">
                <span class="navbar-toggler-bar bar1"></span>
                <span class="navbar-toggler-bar bar2"></span>
                <span class="navbar-toggler-bar bar3"></span>
              </button>
            </div>
            <a class="navbar-brand" href="#pablo">BUS COMPANY NAME</a>
          </div>
        </div>
      </nav>
      <!-- End Navbar -->
      <div class="panel-header panel-header-sm">
      </div>
      <div class="content">
        <div class="row">
          <div class="col-md-8">
            <div class="card">
              <div class="card-header">
                <h5 class="title">Add Trip of ROUTE : {{ route_id }}</h5>
                    
                    {% for field in form %}
                        {% for error in field.errors %}
                            <div class="alert alert-danger">
                                <strong>{{ error|escape }}</strong>
                            </div>
                        {% endfor %}
                    {% endfor %}
                    {% for error in form.non_field_errors %}
                        <div class="alert alert-danger">
                            <strong>{{ error|escape }}</strong>
                        </div>
                    {% endfor %}

              </div>
              <div class="card-body">
                {% block body %}
                <form method="post">
                  {% comment %} <div class="col">
                    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#saveRoute">
                      Add Route Infomation
                    </button>
                  </div> {% endcomment %}
                  {% comment %} <div class="col"> {% endcomment %}
                  {% csrf_token %}
                  <table class="table">
                    <td> {{form.trip_index.label}} </td>
                    <td> {{form.trip_index}} </td>
                    <td> <input name="route_id" value="{{request.session.route_id}}" readonly> </input></td>
                  </table>
                    {% comment %} {% if form.route_id_type.value != None %}
                    <ul>
                      <li>
                        Route ID : {{form.route_id_type.value}}{{form.route_id_num.value}}
                      </li>
                      {% if form.route_id_type.value == 'T' %}
                      <li>
                        Name of train route: {{form.train_name.value}}
                      </li>
                      <li>
                        Unit price of train route: {{form.train_unit_price.value}}
                      </li>
                      <li>
                        ID train route: {{form.train_route_id.value}}
                      </li>
                      {% endif%}
                    </ul>
                    {% endif %} {% endcomment %}
                  {% comment %} </div> {% endcomment %}
                  <button type="submit" class="btn btn-primary" style="float: right;" >Create Trip</button>
                </form>
              </div>
            </div>
          </div>
      </div>
    </form>
    <!-- Button trigger modal -->
    {% comment %} <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalScrollable">
      Launch demo modal
    </button> {% endcomment %}

    <!-- Modal -->
    <div class="modal fade" id="exampleModalScrollable" tabindex="-1" role="dialog" aria-labelledby="exampleModalScrollableTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-scrollable" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalScrollableTitle">Modal title</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p>ajhfdlahf</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary">Save changes</button>
          </div>
        </div>
      </div>
    </div>
    <!-- Modal -->
    <form class="modal fade" id="saveRoute" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" method="POST">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
          {% csrf_token %}
          {% for field in form%}
          <div class="row">
            <div class="col">
              <p> {{field.label}}</p> 
            </div>
            <div class="col">
              <p> {{field}}</p> 
            </div>
          </div>
          {% endfor %}
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button id = "saveRoute" type="btn btn-primary" class="close"> Save changes</button>
          </div>
        </div>
      </div>
    </form>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>    
    <script>
    $(document).ready(function(){
      $('#exampleModal').on('click','#saveRoute', function (e) {
      });
    })
    </script>
    {% endblock %}
    {% endblock %}